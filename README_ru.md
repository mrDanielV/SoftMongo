# Resolute SoftMongo
> Пользовательский интерфейс MongoDB клиента, созданный на PHP

## Общие сведения
Resolute SoftMongo это клиент/серверное WEB-приложение, написанное на PHP и JS-фреймворке Resolute, обеспечивающее эргономичный пользовательский интерфейс для подключения и работы с документоориентированными базами данных MongoDB. Приложение предназначено в первую очередь для ИТ-специалистов и является идейным преемником RockMongo и конкурентом MongoDBCompas.

## Настройка авторизации и доступа
Доступ и авторизация в интерфейсе SoftMongo конфигурируется в файле authorize.cfg.php.
Авторизацию обеспечивают логин и пароль пользователя приложения и опциональный секретный GET-параметр.

## Настройка подключения к серверам MongoDB
SoftMongo позволяет настраивать несколько подключений к разным серверам MongoDB. 
Подключения описываются в файле connect.cfg.php, формат конфигурации:
````
$connections = [
	[
		'name' => 'имя сервера, отображаемое в softMongo',
		'link' => 'строка подключения в формате MongoDB',
		'dbase' => 'имя БД',
		'options' => []
	]
];
````
> Более подробное описание в файле connect.cfg.php.

## Краткое описание возможностей программы
Авторизованный пользователь SoftMongo получает возможность выбрать сервер MongoDB из списка серверов, подключения к которым настроены в connect.cfg.php. Затем выбрать БД на сервере и далее работать с коллекциями БД и записями коллекций.

В последующем SoftMongo автоматически открывает сразу ту БД, с которой пользователь работа в последний раз. Информация об этом хранится в cookie сессии.

### Навигация по подключенным серверам, базам данных и коллекциям
Раздел выбора подключенных серверов открывается при входе в программу, если на ПК не была сохранена сессия предыдущей работы в SoftMongo, и в этот раздел всегда можно попасть кликнув на кнопку "Серверы" в верхней части интерфейса.

Там же, в верхней части интерфейса, расположена кнопка "Базы данных", которая открывает страницу выбора БД для текущего сервера.
Выбор текущей БД доступен и в выпадающем списке в левой верхней области интерфейса: над блоком навигации по коллекциям.

Рядом с наименованием текущей БД расположена кнопка получения общей информации по БД: раздел, показывающий ресурсную статистику, количество и список коллекций БД.

### Работа с коллекциями и записями коллекций
Область навигации по коллекциям позволяет выбрать текущую коллекцию для дальнейшей работы с ней. Список коллекций БД, выводимый в этой области, можно отфильтровать для более удобной навигации.

Базовая работа с коллекцией дает возможность создавать коллекции, удалять их, очищять, импортировать, экспортировать записи коллекции, добавлять новые записи и редактировать существующие. 

Основная область работы с записями коллекции позволяет выполнить запрос любой структуры по коллекции. В том числе запрос на обновление или удаление записей, выбранных по заданному условию отбора.

В разделе просмотра записей коллекции по умолчанию используется запрос на получение всех записей.

Результат выполнения запроса визуализируется в центральной части интерфейса в форме блоков для каждой записи. Это интерактивные блоки для работы с JSON-структурой записи. в которой для каждого узла структуры доступно меню действий с этим узлом. Меню вызывает кликом по наименованию узла и дальше по иконке меню.

#### Экспорт, импорт записей коллекций
SoftMongo дает возможность экспорта и импорта записей одной или более коллекций БД в/из тексового файла, сформированного по формату SoftMongo. Файл содержит, фактически, инструкции "insert" для каждой записи. При работе с экспортом и импортом важно помнить, что формат уникален для SoftMongo, то есть, экспортировать и импортировать можно только из SoftMongo в SoftMongo. Экспорт из сторонних программ не поддерживается.

#### Индексирование коллекций
Программа позволяет создавать индексы, в том числе, с соблюдением уникальности на уровне БД, для любого набора полей. Работать с индексами можно либо выбрав соответствующий пункт меню коллекции, либо пункт аналогичный меню узла записи.

### Агрегация
В меню коллекции есть пункт "Агрегация" с модулем, позволяющим создавать любой pipeline этапов агрегации, поддерживаемых MongoDB установленной на текущем сервере версии. Описание этапов агрегации можно сохранять в виде JSON или файлов и загружать в виде файла или JSON-инструкции. Результат работа агрегации можно экспортировать в формате SoftMongo.

> (с) 2024 Васильев Даниэль, Виталий Крылов 